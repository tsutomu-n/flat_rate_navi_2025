<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ  ä½å®…ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆãƒ•ãƒ©ãƒƒãƒˆ20ãƒ»ãƒ•ãƒ©ãƒƒãƒˆ35ï¼‰ - é‡‘åˆ©ã‚«ã‚¹ã‚¿ãƒ ãƒ»æ‹¡å¼µç‰ˆ</title>
  <style>
    /* åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ»è‰²è¨­å®š */
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #e8f5e9);
      margin: 0;
      padding: 0;
      color: #333;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .container {
      margin: 30px;
      max-width: 750px;
      background-color: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.15);
      animation: fadeIn 0.5s ease-out;
      position: relative;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h1 {
      text-align: center;
      font-size: 2.2em;
      margin-bottom: 25px;
      color: #00bcd4;
    }
    h1 span {
      display: block;
      font-size: 0.8em;
      color: #777;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
      color: #555;
    }
    input, .rate-input {
      width: calc(100% - 22px);
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 1em;
    }
    .rate-input {
      width: 80px;
      display: inline-block;
      margin-right: 10px;
    }
    input.invalid {
      border-color: red;
      background-color: #ffe6e6;
    }
    .error {
      color: #d32f2f;
      font-weight: bold;
      margin-top: 15px;
      background-color: #ffebee;
      padding: 15px;
      border-radius: 6px;
      border: 1px solid #ef9a9a;
      animation: shake 0.3s ease-in-out;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20%, 60% { transform: translateX(-5px); }
      40%, 80% { transform: translateX(5px); }
    }
    .result {
      margin-top: 25px;
      display: none;  /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
      background-color: #f8f8f8;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .result h2 {
      color: #009688;
      margin-top: 0;
      margin-bottom: 15px;
      font-size: 1.6em;
      text-align: center;
    }
    .note {
      font-size: 0.6em;
      color: #777;
      margin-top: 20px;
      text-align: center;
    }
    .button-container {
      text-align: center;
      margin-top: 30px;
      margin-bottom: 20px;
    }
    button {
      padding: 12px 20px;
      border: none;
      border-radius: 8px;
      background-color: #00bcd4;
      color: #fff;
      font-size: 1.1em;
      cursor: pointer;
      margin: 10px 8px;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #00acc1;
    }
    /* é‡‘åˆ©è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆç”»é¢ä¸Šéƒ¨å³ç«¯ã€æ§ãˆã‚ã€10pxãƒ•ã‚©ãƒ³ãƒˆï¼‰ */
    .rate-toggle {
      position: fixed;
      top: 10px;
      right: 10px;
      font-size: 10px;
      background-color: #00bcd4;
      color: #ffffff;
      padding: 5px 8px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      z-index: 1000;
      opacity: 0.9;
    }
    .rate-toggle:hover {
      background-color: #0097a7;
      opacity: 1;
    }
    .help-toggle {
      position: fixed;
      top: 10px;
      right: 80px;
      font-size: 10px;
      background-color: #4caf50;
      color: #fff;
      padding: 5px 8px;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      z-index: 1000;
      opacity: 0.9;
    }
    .help-toggle:hover {
      background-color: #388e3c;
      opacity: 1;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      font-size: 1em;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      border-radius: 8px;
      overflow: hidden;
    }
    table, th, td {
      border: 1px solid #ddd;
    }
    th, td {
      padding: 12px;
      text-align: center;
    }
    th {
      background-color: #b2dfdb;
      color: #fff;
      font-weight: bold;
    }
    .toggle-detail {
      background: none;
      border: none;
      color: #1976d2;
      text-decoration: underline;
      cursor: pointer;
      font-size: 0.9em;
      margin-top: 15px;
      display: block;
      text-align: center;
    }
    .detail-schedule {
      display: none;
      margin-top: 20px;
    }
    .download-csv {
      margin: 10px auto;
      display: block;
      padding: 8px 12px;
      font-size: 0.9em;
      background-color: #9e9e9e;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
    }
    .download-csv:hover {
      background-color: #757575;
    }
    .loading-message {
      text-align: center;
      margin-top: 20px;
      font-size: 1.1em;
      color: #555;
    }
    .bar-chart {
      width: 100%;
      margin-top: 20px;
      display: flex;
      justify-content: space-around;
      align-items: flex-end;
    }
    .bar-container {
      width: 45%;
      text-align: center;
    }
    .bar {
      background-color: #4caf50;
      color: white;
      padding: 10px 0;
      text-align: center;
      border-radius: 5px 5px 0 0;
    }
    .bar-label {
      margin-top: 5px;
      font-weight: bold;
    }
    .comparison-table td.highlight {
      background-color: #fffde7;
      font-weight: bold;
    }
    /* é‡‘åˆ©è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .rate-setting {
      margin-top: 20px;
      border-top: 1px dashed #ccc;
      padding-top: 20px;
      display: none;
    }
    .rate-setting h3 {
      font-size: 1.2em;
      color: #555;
      margin-bottom: 15px;
      text-align: center;
    }
    .rate-input-group {
      text-align: center;
      margin-bottom: 10px;
    }
    .rate-label {
      font-weight: normal;
      margin-right: 5px;
      color: #777;
    }
    /* å›ºå®šé‡‘åˆ©ãƒ­ãƒ¼ãƒ³ã®åŸºç¤çŸ¥è­˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ */
    .loan-basics {
      margin: 1em 0;
      padding: 12px;
      font-size: 0.8em;
      line-height: 1.4;
    }
    .loan-basics h2 {
      font-size: 1em;
      margin: 0 0 10px 0;
      color: #333;
    }
    .loan-basics p {
      margin: 6px 0;
    }
    .loan-basics strong {
      color: #00838f;
    }
    @media screen and (max-width: 768px) {
      .container {
        margin: 15px;
        padding: 20px;
      }
      h1 {
        font-size: 1.8em;
      }
      label {
        font-size: 0.95em;
      }
      input, .rate-input {
        font-size: 0.95em;
      }
      button {
        font-size: 1em;
        padding: 10px 15px;
      }
      .result h2 {
        font-size: 1.4em;
      }
      .note, .local-url {
        font-size: 0.85em;
      }
      table, th, td {
        font-size: 0.85em;
        padding: 8px;
      }
      .rate-setting h3 {
        font-size: 1.1em;
      }
    }
    .modal {
      display: none;
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      overflow: auto;
      background-color: rgba(0,0,0,0.4);
    }
    .modal-content {
      background-color: #fefefe;
      margin: 10% auto;
      padding: 20px;
      border: 1px solid #888;
      width: 80%;
      max-width: 800px;
      border-radius: 8px;
    }
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
      cursor: pointer;
    }
    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
    }
  </style>
</head>
<body>
  <!-- é‡‘åˆ©è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ï¼ˆå¸¸ã«ç”»é¢ä¸Šéƒ¨å³ç«¯ã«è¡¨ç¤ºï¼‰ -->
  <button class="rate-toggle" onclick="toggleRateSetting()" id="rateToggleBtn">âœï¸ é‡‘åˆ©è¨­å®š</button>
  <button class="help-toggle" onclick="toggleHelpModal()" id="helpToggleBtn">â“ ä½¿ã„æ–¹</button>
  
  <div class="container">
    <h1>ğŸ  ä½å®…ãƒ­ãƒ¼ãƒ³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³<span>ãƒ•ãƒ©ãƒƒãƒˆ20ãƒ»ãƒ•ãƒ©ãƒƒãƒˆ35</span></h1>
    <!-- ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <p>
      <label for="purchasePrice">ğŸ’° ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ï¼ˆä¸‡å††ï¼‰:</label>
      <input id="purchasePrice" type="number" value="4000" placeholder="4000" oninput="validateInputs()">
    </p>
    <p>
      <label for="downPayment">ğŸ’¸ é ­é‡‘ï¼ˆä¸‡å††ï¼‰:</label>
      <input id="downPayment" type="number" value="300" placeholder="300" oninput="validateInputs()">
    </p>
    <p>
      <label for="additionalPayment">ğŸ“ˆ è¿½åŠ è¿”æ¸ˆé¡ï¼ˆæœˆã€…ã€ä¸‡å††ï¼‰:</label>
      <input id="additionalPayment" type="number" value="10" placeholder="10" oninput="validateInputs()">
    </p>
    <p>
      <label for="additionalStartYear">è¿½åŠ è¿”æ¸ˆé–‹å§‹ (å¹´å¾Œ):</label>
      <input id="additionalStartYear" type="number" value="10" placeholder="10" oninput="validateInputs()">
    </p>
    
    <!-- é‡‘åˆ©è¨­å®šã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <div class="rate-setting" id="rateSetting">
      <h3>âœï¸ é‡‘åˆ©ã‚’ä¸Šæ›¸ãã™ã‚‹ï¼ˆä»»æ„ï¼‰</h3>
      <p class="note" style="font-size: 0.8em; margin-top: 0;">
        â€» é‡‘åˆ©æœªå…¥åŠ›ã®å ´åˆã¯ã€2025å¹´3æœˆæ™‚ç‚¹ã®äºˆæ¸¬é‡‘åˆ©ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚
      </p>
      <div class="rate-input-group">
        <label for="customRateFlat20" class="rate-label">ãƒ•ãƒ©ãƒƒãƒˆ20 é‡‘åˆ©:</label>
        <input type="number" id="customRateFlat20" class="rate-input" placeholder="1.720" step="0.001"> ï¼…
      </div>
      <div class="rate-input-group">
        <label for="customRateFlat35" class="rate-label">ãƒ•ãƒ©ãƒƒãƒˆ35 é‡‘åˆ©:</label>
        <input type="number" id="customRateFlat35" class="rate-input" placeholder="2.110" step="0.001"> ï¼…
      </div>
    </div>
    
    <div class="button-container">
      <button onclick="runSimulations()">ğŸ” ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ</button>
    </div>
    <div id="errorMessage" class="error" style="display:none;"></div>
    <div id="loadingMessage" class="loading-message" style="display:none;">è¨ˆç®—ä¸­... ã—ã°ã‚‰ããŠå¾…ã¡ãã ã•ã„</div>
    <div id="resultFlat20" class="result"></div>
    <div id="resultFlat35" class="result"></div>
    
    <!-- å›ºå®šé‡‘åˆ©ãƒ­ãƒ¼ãƒ³åŸºç¤çŸ¥è­˜ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="loan-basics">
        <h2>å›ºå®šé‡‘åˆ©ä½å®…ãƒ­ãƒ¼ãƒ³ã®åŸºæœ¬</h2>
        <p>
          <strong>ãƒ•ãƒ©ãƒƒãƒˆ20</strong><br>
          è¿”æ¸ˆæœŸé–“ï¼š15ï½20å¹´<br>
          ãƒ¡ãƒªãƒƒãƒˆï¼šçŸ­æœŸé–“ã§å®Œæ¸ˆã§ãã€ç·æ”¯æ‰•åˆ©æ¯ãŒå°‘ãªã„<br>
          æ³¨æ„ç‚¹ï¼šæ¯æœˆã®è¿”æ¸ˆé¡ãŒé«˜ã„
        </p>
        <p>
          <strong>ãƒ•ãƒ©ãƒƒãƒˆ35</strong><br>
          è¿”æ¸ˆæœŸé–“ï¼š21ï½35å¹´<br>
          ãƒ¡ãƒªãƒƒãƒˆï¼šæ¯æœˆã®è¿”æ¸ˆãŒå®‰å®šã—ã€ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ãŒç«‹ã¦ã‚„ã™ã„<br>
          æ³¨æ„ç‚¹ï¼šé ­é‡‘ã‚„å›£ä½“ä¿¡ç”¨ç”Ÿå‘½ä¿é™ºï¼ˆå›£ä¿¡ï¼‰ã®æ¡ä»¶ã«ã‚ˆã‚Šå®Ÿè³ªæ¡ä»¶ãŒå¤‰å‹•ã™ã‚‹
        </p>
        <p>
          <strong>å…±é€šç‚¹</strong><br>
          ä¸¡è€…ã¨ã‚‚å…¨æœŸé–“å›ºå®šé‡‘åˆ©ã§ã€é‡‘åˆ©å¤‰å‹•ãƒªã‚¹ã‚¯ãŒãªãã€äº‹å‰ã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒé‡è¦ã§ã™ã€‚
        </p>
      </section>
      <p class="note" style="line-height: 1.8; letter-spacing: 0.05em; margin: 1em 0;">
        â€» ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ãƒ•ãƒ©ãƒƒãƒˆ20ã‚’20å¹´å›ºå®šã€ãƒ•ãƒ©ãƒƒãƒˆ35ã‚’35å¹´å›ºå®šã§è¡Œã£ã¦ã„ã¾ã™ã€‚<br>
        ãªãŠã€ã“ã‚Œã‚‰ã®çµæœã¯ã‚ãã¾ã§æ¦‚ç®—ã§ã™ã€‚æœ€çµ‚çš„ãªå€Ÿå…¥ã®æ±ºå®šã«ã‚ãŸã£ã¦ã¯ã€å¿…ãšé‡‘èæ©Ÿé–¢ã‚„å°‚é–€å®¶ã«ã”ç›¸è«‡ãã ã•ã„ã€‚
      </p>
  </div>
  
  <!-- ===============================
       JavaScript - ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
       =============================== -->
  <script>
    // å®šæ•°å®šç¾©
    const MAX_REPAYMENT_MONTHS = 600;
    const DEFAULT_ANNUAL_RATE_FLAT20 = 0.01720; // 2025å¹´3æœˆæ™‚ç‚¹äºˆæ¸¬ï¼š1.720%
    const DEFAULT_ANNUAL_RATE_FLAT35 = 0.02110; // 2025å¹´3æœˆæ™‚ç‚¹äºˆæ¸¬ï¼š2.110%
    const FIXED_TERM_YEARS_FLAT20 = 20;
    const FIXED_TERM_YEARS_FLAT35 = 35;
    const MONTHS_PER_YEAR = 12;
    const MAX_PURCHASE_PRICE = 100000;
    const MAX_DOWN_PAYMENT = 100000;
    let roundingPrecision = 4; // å°æ•°ç‚¹ä»¥ä¸‹4æ¡

    // æ•°å€¤ä¸¸ã‚ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    function roundTo(num, precision) {
      const factor = 10 ** precision;
      return Math.round(num * factor) / factor;
    }

    // æ¯æœˆè¿”æ¸ˆé¡ï¼ˆå…ƒåˆ©å‡ç­‰è¿”æ¸ˆï¼‰ã®è¨ˆç®—
    function calculateMonthlyPayment(principal, monthlyRate, totalMonths) {
      return (monthlyRate * principal) / (1 - Math.pow(1 + monthlyRate, -totalMonths));
    }

    // æŒ‡å®šæœŸé–“å¾Œã®æ®‹é«˜ã‚’è¨ˆç®—
    function calculateBalance(principal, monthlyRate, monthlyPayment, months) {
      let balance = principal;
      for (let i = 1; i <= months; i++) {
        const interest = roundTo(balance * monthlyRate, roundingPrecision);
        const principalPayment = roundTo(monthlyPayment - interest, roundingPrecision);
        balance = roundTo(balance - principalPayment, roundingPrecision);
      }
      return balance;
    }

    // simulatePostAdditional ã‚’éåŒæœŸã«å®Ÿè¡Œï¼ˆ100å›ã”ã¨ã«ãƒãƒ£ãƒ³ã‚¯å‡¦ç†ï¼‰
    function simulatePostAdditionalAsync(startingBalance, monthlyRate, baseMonthlyPayment, additionalPayment) {
      return new Promise((resolve) => {
        let balance = startingBalance;
        let monthsCount = 0;
        let totalMonthlyPayment = baseMonthlyPayment + additionalPayment;
        const chunkSize = 100;
        function processChunk() {
          for (let i = 0; i < chunkSize && balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS; i++) {
            const interest = roundTo(balance * monthlyRate, roundingPrecision);
            let principalPayment = roundTo(totalMonthlyPayment - interest, roundingPrecision);
            if (principalPayment > balance) {
              principalPayment = balance;
              totalMonthlyPayment = interest + principalPayment;
            }
            balance = roundTo(balance - principalPayment, roundingPrecision);
            monthsCount++;
          }
          if (balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS) {
            setTimeout(processChunk, 0);
          } else {
            resolve(monthsCount);
          }
        }
        processChunk();
      });
    }
    
    // ===============================
    // DOMæ“ä½œé–¢é€£ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
    // ===============================
    
    function showError(message) {
      const errorElement = document.getElementById("errorMessage");
      errorElement.innerHTML = message;
      errorElement.style.display = "block";
    }
    
    function validateInputs() {
      const purchasePriceVal = document.getElementById("purchasePrice").value;
      const downPaymentVal = document.getElementById("downPayment").value;
      const additionalPaymentVal = document.getElementById("additionalPayment").value;
      const additionalStartYearVal = document.getElementById("additionalStartYear").value;
      let errorMsg = "";
    
      if (purchasePriceVal === "") {
        errorMsg += "ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (isNaN(purchasePriceVal)) {
        errorMsg += "ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ã¯æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(purchasePriceVal) <= 0) {
        errorMsg += "ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ã¯1ä¸‡å††ä»¥ä¸Šã®æ­£ã®æ•°ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(purchasePriceVal) > MAX_PURCHASE_PRICE) {
        errorMsg += `ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ã¯${MAX_PURCHASE_PRICE}ä¸‡å††ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>`;
      }
    
      if (downPaymentVal === "") {
        errorMsg += "é ­é‡‘ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (isNaN(downPaymentVal)) {
        errorMsg += "é ­é‡‘ã¯æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(downPaymentVal) < 0) {
        errorMsg += "é ­é‡‘ã¯0ä»¥ä¸Šã®æ•°å€¤ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(downPaymentVal) > MAX_DOWN_PAYMENT) {
        errorMsg += `é ­é‡‘ã¯${MAX_DOWN_PAYMENT}ä¸‡å††ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>`;
      } else if (purchasePriceVal !== "" && !isNaN(purchasePriceVal) && Number(downPaymentVal) > Number(purchasePriceVal)) {
        errorMsg += "é ­é‡‘ã¯ç‰©ä»¶è³¼å…¥ä¾¡æ ¼ä»¥ä¸‹ã«ã—ã¦ãã ã•ã„ã€‚<br>";
      }
    
      if (additionalPaymentVal === "") {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (isNaN(additionalPaymentVal)) {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé¡ã¯æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(additionalPaymentVal) < 0) {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé¡ã¯0ä»¥ä¸Šã®æ•°å€¤ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      }
    
      if (additionalStartYearVal === "") {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé–‹å§‹ (å¹´å¾Œ) ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (isNaN(additionalStartYearVal)) {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé–‹å§‹ (å¹´å¾Œ) ã¯æ•°å€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      } else if (Number(additionalStartYearVal) < 0) {
        errorMsg += "è¿½åŠ è¿”æ¸ˆé–‹å§‹ (å¹´å¾Œ) ã¯0ä»¥ä¸Šã®æ•°å€¤ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚<br>";
      }
      
      const errorElement = document.getElementById("errorMessage");
      errorElement.innerHTML = errorMsg;
      errorElement.style.display = errorMsg ? "block" : "none";
      return errorMsg === "";
    }
    
    // ===============================
    // DOMæ“ä½œï¼šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
    // ===============================
    
    async function renderSimulationResults(principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, fixedTermYears) {
      const additionalStartMonths = additionalStartYear * MONTHS_PER_YEAR;
      const balanceAtAdditionalStart = calculateBalance(principal, monthlyRate, monthlyPayment, additionalStartMonths);
      const additionalMonths = await simulatePostAdditionalAsync(balanceAtAdditionalStart, monthlyRate, monthlyPayment, additionalPayment);
      const totalRepaymentMonths = additionalStartMonths + additionalMonths;
      const totalPayment = roundTo((monthlyPayment * additionalStartMonths) + ((monthlyPayment + additionalPayment) * additionalMonths), roundingPrecision);
      const totalInterest = roundTo(totalPayment - principal, roundingPrecision);
      return { totalRepaymentMonths, totalPayment, totalInterest };
    }
    
    // simulatePostAdditional ã‚’éåŒæœŸå‡¦ç†ï¼ˆãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼‰ã«å¤‰æ›´
    function simulatePostAdditionalAsync(startingBalance, monthlyRate, baseMonthlyPayment, additionalPayment) {
      return new Promise((resolve) => {
        let balance = startingBalance;
        let monthsCount = 0;
        let totalMonthlyPayment = baseMonthlyPayment + additionalPayment;
        const chunkSize = 100;
        function processChunk() {
          for (let i = 0; i < chunkSize && balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS; i++) {
            const interest = roundTo(balance * monthlyRate, roundingPrecision);
            let principalPayment = roundTo(totalMonthlyPayment - interest, roundingPrecision);
            if (principalPayment > balance) {
              principalPayment = balance;
              totalMonthlyPayment = interest + principalPayment;
            }
            balance = roundTo(balance - principalPayment, roundingPrecision);
            monthsCount++;
          }
          if (balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS) {
            setTimeout(processChunk, 0);
          } else {
            resolve(monthsCount);
          }
        }
        processChunk();
      });
    }
    
    function displayResultsInDOM(resultId, principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, totalRepaymentMonths, totalPayment, totalInterest, additionalStartWarning) {
      const fixedTermYears = (resultId === "resultFlat20") ? FIXED_TERM_YEARS_FLAT20 : FIXED_TERM_YEARS_FLAT35;
      const resultDiv = document.getElementById(resultId);
      resultDiv.innerHTML = `
        <h2>ã€ãƒ•ãƒ©ãƒƒãƒˆ${fixedTermYears}ã€‘ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœ</h2>
        <div class="bar-chart">
          <div class="bar-container">
            <div class="bar" style="height: ${totalPayment / 40}px;">${totalPayment.toFixed(1)} ä¸‡å††</div>
            <div class="bar-label">è¿”æ¸ˆç·é¡</div>
          </div>
          <div class="bar-container">
            <div class="bar" style="height: ${totalInterest / 40}px;">${totalInterest.toFixed(1)} ä¸‡å††</div>
            <div class="bar-label">åˆ©æ¯ç·é¡</div>
          </div>
        </div>
        <table class="comparison-table">
          <tr><th>é …ç›®</th><th>å€¤</th></tr>
          <tr><td>åˆæœŸå€Ÿå…¥é¡</td><td>${principal.toFixed(1)} ä¸‡å††</td></tr>
          <tr><td>å›ºå®šé‡‘åˆ©ï¼ˆ2025å¹´3æœˆæ™‚ç‚¹äºˆæ¸¬ï¼‰</td><td class="highlight">${fixedTermYears === FIXED_TERM_YEARS_FLAT20 ? "1.720ï¼…" : "2.110ï¼…"}</td></tr>
          <tr><td>æ¯æœˆè¿”æ¸ˆé¡ï¼ˆåŸºæœ¬ï¼‰</td><td class="highlight">${monthlyPayment.toFixed(1)} ä¸‡å††</td></tr>
          <tr><td>è¿½åŠ è¿”æ¸ˆé–‹å§‹</td><td>${additionalStartYear} å¹´å¾Œ</td></tr>
          <tr><td>è¿½åŠ è¿”æ¸ˆï¼ˆæœˆé¡ï¼‰</td><td>${additionalPayment.toFixed(1)} ä¸‡å††</td></tr>
          <tr><td>å®Œæ¸ˆã¾ã§ã®ç·æœˆæ•°</td><td>${totalRepaymentMonths} ãƒ¶æœˆ (${(totalRepaymentMonths / 12).toFixed(1)} å¹´)</td></tr>
          <tr style="border-top: 2px solid #ddd;"><td><b>è¿”æ¸ˆç·é¡ï¼ˆæ¦‚ç®—ï¼‰</b></td><td class="highlight"><b>${totalPayment.toFixed(1)} ä¸‡å††</b></td></tr>
          <tr style="border-bottom: 2px solid #ddd;"><td><b>åˆ©æ¯ç·é¡ï¼ˆæ¦‚ç®—ï¼‰</b></td><td class="highlight"><b>${totalInterest.toFixed(1)} ä¸‡å††</b></td></tr>
        </table>
        ${additionalStartWarning}
        <button class="toggle-detail" onclick="toggleDetail('${resultId}-detail')">è©³ç´°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’è¡¨ç¤º/éè¡¨ç¤º</button>
        <button class="download-csv" onclick="downloadCSV('${resultId}-detail')">CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>
        <div id="${resultId}-detail" class="detail-schedule"></div>`;
      resultDiv.style.display = "block";
      generateSchedule(principal, monthlyRate, monthlyPayment, additionalPayment, fixedTermYears, totalRepaymentMonths, `${resultId}-detail`);
    }
    
    function displayResults(resultId, principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, totalRepaymentMonths, totalPayment, totalInterest) {
      const fixedTermYears = (resultId === "resultFlat20") ? FIXED_TERM_YEARS_FLAT20 : FIXED_TERM_YEARS_FLAT35;
      let additionalStartWarning = "";
      if (additionalStartYear > fixedTermYears) {
        additionalStartWarning = `<p class="note" style="color:#d32f2f;">â€» è¿½åŠ è¿”æ¸ˆé–‹å§‹å¹´ãŒå€Ÿå…¥æœŸé–“ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚${fixedTermYears}å¹´ä»¥å†…ã§è¨ˆç®—ã—ã¦ã„ã¾ã™ã€‚</p>`;
      }
      displayResultsInDOM(resultId, principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, totalRepaymentMonths, totalPayment, totalInterest, additionalStartWarning);
    }
    
    // ===============================
    // DOMæ“ä½œï¼šã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã®ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ï¼ˆéåŒæœŸå‡¦ç†å¯¾å¿œï¼‰
    // ===============================
    
    async function renderSimulationResults(principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, fixedTermYears) {
      const additionalStartMonths = additionalStartYear * MONTHS_PER_YEAR;
      const balanceAtAdditionalStart = calculateBalance(principal, monthlyRate, monthlyPayment, additionalStartMonths);
      const additionalMonths = await simulatePostAdditionalAsync(balanceAtAdditionalStart, monthlyRate, monthlyPayment, additionalPayment);
      const totalRepaymentMonths = additionalStartMonths + additionalMonths;
      const totalPayment = roundTo((monthlyPayment * additionalStartMonths) + ((monthlyPayment + additionalPayment) * additionalMonths), roundingPrecision);
      const totalInterest = roundTo(totalPayment - principal, roundingPrecision);
      return { totalRepaymentMonths, totalPayment, totalInterest };
    }
    
    // simulatePostAdditional ã‚’éåŒæœŸå‡¦ç†ï¼ˆãƒãƒ£ãƒ³ã‚¯åˆ†å‰²ï¼‰ã«å¤‰æ›´
    function simulatePostAdditionalAsync(startingBalance, monthlyRate, baseMonthlyPayment, additionalPayment) {
      return new Promise((resolve) => {
        let balance = startingBalance;
        let monthsCount = 0;
        let totalMonthlyPayment = baseMonthlyPayment + additionalPayment;
        const chunkSize = 100;
        function processChunk() {
          for (let i = 0; i < chunkSize && balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS; i++) {
            const interest = roundTo(balance * monthlyRate, roundingPrecision);
            let principalPayment = roundTo(totalMonthlyPayment - interest, roundingPrecision);
            if (principalPayment > balance) {
              principalPayment = balance;
              totalMonthlyPayment = interest + principalPayment;
            }
            balance = roundTo(balance - principalPayment, roundingPrecision);
            monthsCount++;
          }
          if (balance > 0 && monthsCount < MAX_REPAYMENT_MONTHS) {
            setTimeout(processChunk, 0);
          } else {
            resolve(monthsCount);
          }
        }
        processChunk();
      });
    }
    
    function generateSchedule(principal, monthlyRate, monthlyPayment, additionalPayment, fixedTermYears, totalRepaymentMonths, detailId) {
      const detail = document.getElementById(detailId);
      if (!detail) return;

      let tableHTML = `
        <table>
          <tr>
            <th>Year</th>
            <th>Month</th>
            <th>Payment (Â¥)</th>
            <th>Principal (Â¥)</th>
            <th>Interest (Â¥)</th>
            <th>Balance (Â¥)</th>
          </tr>
      `;

      let balance = principal;
      let totalInterest = 0;
      let year = 1;
      let month = 1;

      while (balance > 0 && month <= totalRepaymentMonths) {
        const monthlyInterest = balance * monthlyRate;
        let actualPayment = monthlyPayment;
        
        if (balance < monthlyPayment) {
          actualPayment = balance + monthlyInterest;
        }
        
        const principalPayment = actualPayment - monthlyInterest;
        balance = Math.max(0, balance - principalPayment);
        totalInterest += monthlyInterest;

        tableHTML += `
          <tr>
            <td>${year}</td>
            <td>${month}</td>
            <td>Â¥${Math.round(actualPayment).toLocaleString()}</td>
            <td>Â¥${Math.round(principalPayment).toLocaleString()}</td>
            <td>Â¥${Math.round(monthlyInterest).toLocaleString()}</td>
            <td>Â¥${Math.round(balance).toLocaleString()}</td>
          </tr>
        `;

        month++;
        if (month > 12) {
          month = 1;
          year++;
        }
      }

      tableHTML += '</table>';
      detail.innerHTML = tableHTML;
    }
    
    // ===============================
    // ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ»ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
    // ===============================
    
    async function runSimulationForPlan(annualRate, fixedTermYears, resultId) {
      const purchasePrice = Number(document.getElementById("purchasePrice").value);
      const downPayment = Number(document.getElementById("downPayment").value);
      const additionalPayment = Number(document.getElementById("additionalPayment").value);
      const additionalStartYear = Number(document.getElementById("additionalStartYear").value) || 10;
      const principal = purchasePrice - downPayment;
      const monthlyRate = annualRate / MONTHS_PER_YEAR;
      const totalMonths = fixedTermYears * MONTHS_PER_YEAR;
      const monthlyPayment = calculateMonthlyPayment(principal, monthlyRate, totalMonths);
      
      const { totalRepaymentMonths, totalPayment, totalInterest } = await renderSimulationResults(principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, fixedTermYears);
      displayResults(resultId, principal, monthlyRate, monthlyPayment, additionalPayment, additionalStartYear, totalRepaymentMonths, totalPayment, totalInterest);
    }
    
    async function runSimulationFlat20() {
      const customRate20 = document.getElementById("customRateFlat20").value;
      const annualRateFlat20 = customRate20 ? Number(customRate20) / 100 : DEFAULT_ANNUAL_RATE_FLAT20;
      await runSimulationForPlan(annualRateFlat20, FIXED_TERM_YEARS_FLAT20, "resultFlat20");
    }
    
    async function runSimulationFlat35() {
      const customRate35 = document.getElementById("customRateFlat35").value;
      const annualRateFlat35 = customRate35 ? Number(customRate35) / 100 : DEFAULT_ANNUAL_RATE_FLAT35;
      await runSimulationForPlan(annualRateFlat35, FIXED_TERM_YEARS_FLAT35, "resultFlat35");
    }
    
    async function runSimulations() {
      if (!validateInputs()) return;
      document.getElementById("errorMessage").style.display = "none";
      document.getElementById("resultFlat20").style.display = "none";
      document.getElementById("resultFlat35").style.display = "none";
      document.getElementById("loadingMessage").style.display = "block";
      setTimeout(async () => {
        await runSimulationFlat20();
        await runSimulationFlat35();
        document.getElementById("loadingMessage").style.display = "none";
      }, 200);
    }
    
    // ===============================
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼šè©³ç´°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«è¡¨ç¤ºã€CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€é‡‘åˆ©è¨­å®šåˆ‡æ›¿
    // ===============================
    
    function toggleDetail(detailId) {
      const detailDiv = document.getElementById(detailId);
      detailDiv.style.display = (detailDiv.style.display === "none" || detailDiv.style.display === "") ? "block" : "none";
    }
    
    function toggleRateSetting() {
      const rateSettingDiv = document.getElementById("rateSetting");
      const rateToggleBtn = document.getElementById("rateToggleBtn");
      if (rateSettingDiv.style.display === "none" || rateSettingDiv.style.display === "") {
        rateSettingDiv.style.display = "block";
        rateToggleBtn.textContent = "â˜‘ï¸ é‡‘åˆ©è¨­å®šã‚’é–‰ã˜ã‚‹";
        rateSettingDiv.scrollIntoView({ behavior: "smooth" });
      } else {
        rateSettingDiv.style.display = "none";
        rateToggleBtn.textContent = "âœï¸ é‡‘åˆ©è¨­å®š";
        document.querySelector('.container').scrollIntoView({ behavior: "smooth" });
      }
    }
    
    function toggleHelpModal() {
      var modal = document.getElementById('helpModal');
      modal.style.display = (modal.style.display === 'block') ? 'none' : 'block';
    }
    
    function downloadCSV(detailId) {
      const detail = document.getElementById(detailId);
      if (!detail) return;

      const table = detail.querySelector('table');
      if (!table) return;

      let csvContent = 'Year,Month,Payment,Principal,Interest,Balance\n';  

      const rows = table.querySelectorAll('tr');
      rows.forEach((row, index) => {
        if (index === 0) return; // Skip header row
        const cells = row.querySelectorAll('td');
        if (cells.length >= 5) {
          // Convert Japanese numbers to English and remove commas
          const year = cells[0].textContent.replace('å¹´', '');
          const month = cells[1].textContent.replace('æœˆ', '');
          const payment = cells[2].textContent.replace(/[Â¥,]/g, '');
          const principal = cells[3].textContent.replace(/[Â¥,]/g, '');
          const interest = cells[4].textContent.replace(/[Â¥,]/g, '');
          const balance = cells[5].textContent.replace(/[Â¥,]/g, '');
          
          csvContent += `${year},${month},${payment},${principal},${interest},${balance}\n`;
        }
      });

      const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
      const link = document.createElement('a');
      const url = URL.createObjectURL(blob);
      const timestamp = new Date().toISOString().slice(0,10);
      
      link.setAttribute('href', url);
      link.setAttribute('download', `loan_schedule_${detailId}_${timestamp}.csv`);
      link.style.visibility = 'hidden';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    
    // ===============================
    // ãƒšãƒ¼ã‚¸ãƒ­ãƒ¼ãƒ‰æ™‚å‡¦ç†ï¼ˆlocalStorageã‹ã‚‰é‡‘åˆ©èª­ã¿è¾¼ã¿ï¼‰
    // ===============================
    
    window.addEventListener("load", () => {
      const storedRate20 = localStorage.getItem("customRateFlat20");
      const storedRate35 = localStorage.getItem("customRateFlat35");
      if (storedRate20) {
        document.getElementById("customRateFlat20").value = storedRate20;
      }
      if (storedRate35) {
        document.getElementById("customRateFlat35").value = storedRate35;
      }
    });
  </script>
</body>

<!-- ãƒ˜ãƒ«ãƒ—ãƒ¢ãƒ¼ãƒ€ãƒ«ã®è¿½åŠ  -->
<div id="helpModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="toggleHelpModal()">&times;</span>
    <div id="helpContent">
      <h1>ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘åˆ©ç”¨æ–¹æ³•ã‚¬ã‚¤ãƒ‰</h1>
      <p>ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ã€ãƒ•ãƒ©ãƒƒãƒˆ20ãƒ»ãƒ•ãƒ©ãƒƒãƒˆ35ã®ä½å®…ãƒ­ãƒ¼ãƒ³è¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼å‘ã‘ã®ä½¿ç”¨æ–¹æ³•ã‚’è©³è¿°ã—ã¦ã„ã¾ã™ã€‚</p>
      <h2>ã¯ã˜ã‚ã«</h2>
      <p>æœ¬ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã€ä½å®…ãƒ­ãƒ¼ãƒ³ã®è¿”æ¸ˆè¨ˆç”»ã€é‡‘åˆ©è¨ˆç®—ã€è¿”æ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãªã©ã®æ©Ÿèƒ½ã‚’æä¾›ã—ã¾ã™ã€‚ãƒ•ãƒ©ãƒƒãƒˆ20ï¼ˆ20å¹´å›ºå®šï¼‰ã¨ãƒ•ãƒ©ãƒƒãƒˆ35ï¼ˆ35å¹´å›ºå®šï¼‰ã®æ¯”è¼ƒã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¯èƒ½ã§ã€è¿½åŠ è¿”æ¸ˆã®ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã«ã‚‚å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚</p>
      <h2>ç”»é¢æ§‹æˆ</h2>
      <ul>
        <li><strong>ç‰©ä»¶è³¼å…¥ä¾¡æ ¼å…¥åŠ›</strong>: ç‰©ä»¶ã®è³¼å…¥é‡‘é¡ï¼ˆä¾‹: 4000ä¸‡å††ï¼‰</li>
        <li><strong>é ­é‡‘å…¥åŠ›</strong>: ç‰©ä»¶è³¼å…¥æ™‚ã®é ­é‡‘ï¼ˆä¾‹: 300ä¸‡å††ï¼‰</li>
        <li><strong>è¿½åŠ è¿”æ¸ˆè¨­å®š</strong>: è¿½åŠ è¿”æ¸ˆé¡ï¼ˆæœˆã€…ã€ä¾‹: 10ä¸‡å††ï¼‰ã¨è¿½åŠ è¿”æ¸ˆé–‹å§‹æ™‚æœŸï¼ˆä¾‹: 10å¹´å¾Œï¼‰</li>
        <li><strong>é‡‘åˆ©è¨­å®šãƒœã‚¿ãƒ³</strong>: å³ä¸Šã®ã€Œâœï¸ é‡‘åˆ©è¨­å®šã€ãƒœã‚¿ãƒ³ã§é‡‘åˆ©ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º</li>
        <li><strong>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœè¡¨ç¤º</strong>: ãƒ•ãƒ©ãƒƒãƒˆ20ã¨ãƒ•ãƒ©ãƒƒãƒˆ35ã®æ¯”è¼ƒçµæœã‚’è¡¨ç¤º</li>
      </ul>
      <h2>æ“ä½œæ‰‹é †</h2>
      <ol>
        <li>åŸºæœ¬æƒ…å ±ã®å…¥åŠ›ï¼ˆç‰©ä»¶è³¼å…¥ä¾¡æ ¼ã€é ­é‡‘ã€è¿½åŠ è¿”æ¸ˆé¡ã€è¿½åŠ è¿”æ¸ˆé–‹å§‹å¹´æ•°ï¼‰</li>
        <li>é‡‘åˆ©è¨­å®šï¼ˆä»»æ„ï¼‰ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ•ãƒ©ãƒƒãƒˆ20 1.720%ã€ãƒ•ãƒ©ãƒƒãƒˆ35 2.110%</li>
        <li>ã€ŒğŸ” ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹å§‹</li>
        <li>è©³ç´°çµæœã®ç¢ºèªã¨CSVãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</li>
      </ol>
      <h2>æ³¨æ„äº‹é …</h2>
      <ul>
        <li>ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³çµæœã¯æ¦‚ç®—ã§ã™ã€‚æœ€çµ‚æ±ºå®šã¯å°‚é–€å®¶ã«ã”ç›¸è«‡ãã ã•ã„ã€‚</li>
        <li>å…¥åŠ›ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã®ã§ã€æ­£ç¢ºãªå€¤ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚</li>
      </ul>
    </div>
  </div>
</div>
</html>
